/*!
 *         ,/
 *       ,'/
 *     ,' /
 *   ,'  /_____,
 * .'____    ,'
 *      /  ,'
 *     / ,'
 *    /,'
 *   /'
 *
 * Selectric ÏŸ v1.13.0 (Aug 22 2017) - http://lcdsantos.github.io/jQuery-Selectric/
 *
 * Copyright (c) 2017 Leonardo Santos; MIT License
 *
 */
(function(b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{if(typeof module==="object"&&module.exports){module.exports=function(a,d){if(d===undefined){if(typeof window!=="undefined"){d=require("jquery")}else{d=require("jquery")(a)}}b(d);return d}}else{b(jQuery)}}}(function(o){var p=o(document);var r=o(window);var m="selectric";var q="Input Items Open Disabled TempShow HideSelect Wrapper Focus Hover Responsive Above Below Scroll Group GroupLabel";var j=".sl";var l=["a","e","i","o","u","n","c","y"];var k=[/[\xE0-\xE5]/g,/[\xE8-\xEB]/g,/[\xEC-\xEF]/g,/[\xF2-\xF6]/g,/[\xF9-\xFC]/g,/[\xF1]/g,/[\xE7]/g,/[\xFD-\xFF]/g];var n=function(c,b){var a=this;a.element=c;a.$element=o(c);a.state={multiple:!!a.$element.attr("multiple"),enabled:false,opened:false,currValue:-1,selectedIdx:-1,highlightedIdx:-1};a.eventTriggers={open:a.open,close:a.close,destroy:a.destroy,refresh:a.refresh,init:a.init};a.init(b)};n.prototype={utils:{isMobile:function(){return/android|ip(hone|od|ad)/i.test(navigator.userAgent)},escapeRegExp:function(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},replaceDiacritics:function(a){var b=k.length;while(b--){a=a.toLowerCase().replace(k[b],l[b])}return a},format:function(a){var b=arguments;return(""+a).replace(/\{(?:(\d+)|(\w+))\}/g,function(c,d,e){return e&&b[1]?b[1][e]:b[d]})},nextEnabledItem:function(b,a){while(b[a=(a+1)%b.length].disabled){}return a},previousEnabledItem:function(b,a){while(b[a=(a>0?a:b.length)-1].disabled){}return a},toDash:function(a){return a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},triggerCallback:function(b,c){var e=c.element;var a=c.options["on"+b];var d=[e].concat([].slice.call(arguments).slice(1));if(o.isFunction(a)){a.apply(e,d)}o(e).trigger(m+"-"+this.toDash(b),d)},arrayToClassname:function(b){var a=o.grep(b,function(c){return !!c});return o.trim(a.join(" "))}},init:function(i){var e=this;e.options=o.extend(true,{},o.fn[m].defaults,e.options,i);e.utils.triggerCallback("BeforeInit",e);e.destroy(true);if(e.options.disableOnMobile&&e.utils.isMobile()){e.disableOnMobile=true;return}e.classes=e.getClassNames();var a=o("<input/>",{"class":e.classes.input,readonly:e.utils.isMobile()});var c=o("<div/>",{"class":e.classes.items,tabindex:-1});var d=o("<div/>",{"class":e.classes.scroll});var h=o("<div/>",{"class":e.classes.prefix,html:e.options.arrowButtonMarkup});var b=o("<span/>",{"class":"label"});var g=e.$element.wrap("<div/>").parent().append(h.prepend(b),c,a);var f=o("<div/>",{"class":e.classes.hideselect});e.elements={input:a,items:c,itemsScroll:d,wrapper:h,label:b,outerWrapper:g};if(e.options.nativeOnMobile&&e.utils.isMobile()){e.elements.input=undefined;f.addClass(e.classes.prefix+"-is-native");e.$element.on("change",function(){e.refresh()})}e.$element.on(e.eventTriggers).wrap(f);e.originalTabindex=e.$element.prop("tabindex");e.$element.prop("tabindex",-1);e.populate();e.activate();e.utils.triggerCallback("Init",e)},activate:function(){var a=this;var c=a.elements.items.closest(":visible").children(":hidden").addClass(a.classes.tempshow);var b=a.$element.width();c.removeClass(a.classes.tempshow);a.utils.triggerCallback("BeforeActivate",a);a.elements.outerWrapper.prop("class",a.utils.arrayToClassname([a.classes.wrapper,a.$element.prop("class").replace(/\S+/g,a.classes.prefix+"-$&"),a.options.responsive?a.classes.responsive:""]));if(a.options.inheritOriginalWidth&&b>0){a.elements.outerWrapper.width(b)}a.unbindEvents();if(!a.$element.prop("disabled")){a.state.enabled=true;a.elements.outerWrapper.removeClass(a.classes.disabled);a.$li=a.elements.items.removeAttr("style").find("li");a.bindEvents()}else{a.elements.outerWrapper.addClass(a.classes.disabled);if(a.elements.input){a.elements.input.prop("disabled",true)}}a.utils.triggerCallback("Activate",a)},getClassNames:function(){var a=this;var c=a.options.customClass;var b={};o.each(q.split(" "),function(f,d){var e=c.prefix+d;b[d.toLowerCase()]=c.camelCase?e:a.utils.toDash(e)});b.prefix=c.prefix;return b},setLabel:function(){var e=this;var a=e.options.labelBuilder;if(e.state.multiple){var b=o.isArray(e.state.currValue)?e.state.currValue:[e.state.currValue];b=b.length===0?[0]:b;var c=o.map(b,function(f){return o.grep(e.lookupItems,function(g){return g.index===f})[0]});c=o.grep(c,function(f){if(c.length>1||c.length===0){return o.trim(f.value)!==""}return f});c=o.map(c,function(f){return o.isFunction(a)?a(f):e.utils.format(a,f)});if(e.options.multiple.maxLabelEntries){if(c.length>=e.options.multiple.maxLabelEntries+1){c=c.slice(0,e.options.multiple.maxLabelEntries);c.push(o.isFunction(a)?a({text:"..."}):e.utils.format(a,{text:"..."}))}else{c.slice(c.length-1)}}e.elements.label.html(c.join(e.options.multiple.separator))}else{var d=e.lookupItems[e.state.currValue];e.elements.label.html(o.isFunction(a)?a(d):e.utils.format(a,d))}},populate:function(){var e=this;var c=e.$element.children();var a=e.$element.find("option");var g=a.filter(":selected");var d=a.index(g);var f=0;var b=(e.state.multiple?[]:0);if(g.length>1&&e.state.multiple){d=[];g.each(function(){d.push(o(this).index())})}e.state.currValue=(~d?d:b);e.state.selectedIdx=e.state.currValue;e.state.highlightedIdx=e.state.currValue;e.items=[];e.lookupItems=[];if(c.length){c.each(function(h){var i=o(this);if(i.is("optgroup")){var t={element:i,label:i.prop("label"),groupDisabled:i.prop("disabled"),items:[]};i.children().each(function(s){var v=o(this);t.items[s]=e.getItemData(f,v,t.groupDisabled||v.prop("disabled"));e.lookupItems[f]=t.items[s];f++});e.items[h]=t}else{e.items[h]=e.getItemData(f,i,i.prop("disabled"));e.lookupItems[f]=e.items[h];f++}});e.setLabel();e.elements.items.append(e.elements.itemsScroll.html(e.getItemsMarkup(e.items)))}},getItemData:function(b,c,d){var a=this;return{index:b,element:c,value:c.val(),className:c.prop("class"),text:c.html(),slug:o.trim(a.utils.replaceDiacritics(c.html())),alt:c.attr("data-alt"),selected:c.prop("selected"),disabled:d}},getItemsMarkup:function(b){var a=this;var c="<ul>";if(o.isFunction(a.options.listBuilder)&&a.options.listBuilder){b=a.options.listBuilder(b)}o.each(b,function(d,e){if(e.label!==undefined){c+=a.utils.format('<ul class="{1}"><li class="{2}">{3}</li>',a.utils.arrayToClassname([a.classes.group,e.groupDisabled?"disabled":"",e.element.prop("class")]),a.classes.grouplabel,e.element.prop("label"));o.each(e.items,function(g,f){c+=a.getItemMarkup(f.index,f)});c+="</ul>"}else{c+=a.getItemMarkup(e.index,e)}});return c+"</ul>"},getItemMarkup:function(a,d){var e=this;var b=e.options.optionsItemBuilder;var c={value:d.value,text:d.text,slug:d.slug,index:d.index};return e.utils.format('<li data-index="{1}" class="{2}">{3}</li>',a,e.utils.arrayToClassname([d.className,a===e.items.length-1?"last":"",d.disabled?"disabled":"",d.selected?"selected":""]),o.isFunction(b)?e.utils.format(b(d,this.$element,a),d):e.utils.format(b,c))},unbindEvents:function(){var a=this;a.elements.wrapper.add(a.$element).add(a.elements.outerWrapper).add(a.elements.input).off(j)},bindEvents:function(){var a=this;a.elements.outerWrapper.on("mouseenter"+j+" mouseleave"+j,function(b){o(this).toggleClass(a.classes.hover,b.type==="mouseenter");if(a.options.openOnHover){clearTimeout(a.closeTimer);if(b.type==="mouseleave"){a.closeTimer=setTimeout(o.proxy(a.close,a),a.options.hoverIntentTimeout)}else{a.open()}}});a.elements.wrapper.on("click"+j,function(b){a.state.opened?a.close():a.open(b)});if(!(a.options.nativeOnMobile&&a.utils.isMobile())){a.$element.on("focus"+j,function(){a.elements.input.focus()});a.elements.input.prop({tabindex:a.originalTabindex,disabled:false}).on("keydown"+j,o.proxy(a.handleKeys,a)).on("focusin"+j,function(b){a.elements.outerWrapper.addClass(a.classes.focus);a.elements.input.one("blur",function(){a.elements.input.blur()});if(a.options.openOnFocus&&!a.state.opened){a.open(b)}}).on("focusout"+j,function(){a.elements.outerWrapper.removeClass(a.classes.focus)}).on("input propertychange",function(){var b=a.elements.input.val();var c=new RegExp("^"+a.utils.escapeRegExp(b),"i");clearTimeout(a.resetStr);a.resetStr=setTimeout(function(){a.elements.input.val("")},a.options.keySearchTimeout);if(b.length){o.each(a.items,function(g,e){if(e.disabled){return}if(c.test(e.text)||c.test(e.slug)){a.highlight(g);return}if(!e.alt){return}var f=e.alt.split("|");for(var d=0;d<f.length;d++){if(!f[d]){break}if(c.test(f[d].trim())){a.highlight(g);return}}})}})}a.$li.on({mousedown:function(b){b.preventDefault();b.stopPropagation()},click:function(){a.select(o(this).data("index"));return false}})},handleKeys:function(b){var c=this;var v=b.which;var u=c.options.keys;var e=o.inArray(v,u.previous)>-1;var g=o.inArray(v,u.next)>-1;var h=o.inArray(v,u.select)>-1;var d=o.inArray(v,u.open)>-1;var a=c.state.highlightedIdx;var f=(e&&a===0)||(g&&(a+1)===c.items.length);var i=0;if(v===13||v===32){b.preventDefault()}if(e||g){if(!c.options.allowWrap&&f){return}if(e){i=c.utils.previousEnabledItem(c.lookupItems,a)}if(g){i=c.utils.nextEnabledItem(c.lookupItems,a)}c.highlight(i)}if(h&&c.state.opened){c.select(a);if(!c.state.multiple||!c.options.multiple.keepMenuOpen){c.close()}return}if(d&&!c.state.opened){c.open()}},refresh:function(){var a=this;a.populate();a.activate();a.utils.triggerCallback("Refresh",a)},setOptionsDimensions:function(){var e=this;var b=e.elements.items.closest(":visible").children(":hidden").addClass(e.classes.tempshow);var c=e.options.maxHeight;var a=e.elements.items.outerWidth();var d=e.elements.wrapper.outerWidth()-(a-e.elements.items.width());if(!e.options.expandToItemText||d>a){e.finalWidth=d}else{e.elements.items.css("overflow","scroll");e.elements.outerWrapper.width(90000);e.finalWidth=e.elements.items.width();e.elements.items.css("overflow","");e.elements.outerWrapper.width("")}e.elements.items.width(e.finalWidth).height()>c&&e.elements.items.height(c);b.removeClass(e.classes.tempshow)},isInViewport:function(){var d=this;if(d.options.forceRenderAbove===true){d.elements.outerWrapper.addClass(d.classes.above)}else{if(d.options.forceRenderBelow===true){d.elements.outerWrapper.addClass(d.classes.below)}else{var h=r.scrollTop();var f=r.height();var g=d.elements.outerWrapper.offset().top;var i=d.elements.outerWrapper.outerHeight();var e=(g+i+d.itemsHeight)<=(h+f);var a=(g-d.itemsHeight)>h;var c=!e&&a;var b=!c;d.elements.outerWrapper.toggleClass(d.classes.above,c);d.elements.outerWrapper.toggleClass(d.classes.below,b)}}},detectItemVisibility:function(b){var e=this;var g=e.$li.filter("[data-index]");if(e.state.multiple){b=(o.isArray(b)&&b.length===0)?0:b;b=o.isArray(b)?Math.min.apply(Math,b):b}var c=g.eq(b).outerHeight();var f=g[b].offsetTop;var a=e.elements.itemsScroll.scrollTop();var d=f+c*2;e.elements.itemsScroll.scrollTop(d>a+e.itemsHeight?d-e.itemsHeight:f-c<a?f-c:a)},open:function(b){var a=this;if(a.options.nativeOnMobile&&a.utils.isMobile()){return false}a.utils.triggerCallback("BeforeOpen",a);if(b){b.preventDefault();if(a.options.stopPropagation){b.stopPropagation()}}if(a.state.enabled){a.setOptionsDimensions();o("."+a.classes.hideselect,"."+a.classes.open).children()[m]("close");a.state.opened=true;a.itemsHeight=a.elements.items.outerHeight();a.itemsInnerHeight=a.elements.items.height();a.elements.outerWrapper.addClass(a.classes.open);a.elements.input.val("");if(b&&b.type!=="focusin"){a.elements.input.focus()}setTimeout(function(){p.on("click"+j,o.proxy(a.close,a)).on("scroll"+j,o.proxy(a.isInViewport,a))},1);a.isInViewport();if(a.options.preventWindowScroll){p.on("mousewheel"+j+" DOMMouseScroll"+j,"."+a.classes.scroll,function(e){var c=e.originalEvent;var f=o(this).scrollTop();var d=0;if("detail" in c){d=c.detail*-1}if("wheelDelta" in c){d=c.wheelDelta}if("wheelDeltaY" in c){d=c.wheelDeltaY}if("deltaY" in c){d=c.deltaY*-1}if(f===(this.scrollHeight-a.itemsInnerHeight)&&d<0||f===0&&d>0){e.preventDefault()}})}a.detectItemVisibility(a.state.selectedIdx);a.highlight(a.state.multiple?-1:a.state.selectedIdx);a.utils.triggerCallback("Open",a)}},close:function(){var a=this;a.utils.triggerCallback("BeforeClose",a);p.off(j);a.elements.outerWrapper.removeClass(a.classes.open);a.state.opened=false;a.utils.triggerCallback("Close",a)},change:function(){var a=this;a.utils.triggerCallback("BeforeChange",a);if(a.state.multiple){o.each(a.lookupItems,function(b){a.lookupItems[b].selected=false;a.$element.find("option").prop("selected",false)});o.each(a.state.selectedIdx,function(c,b){a.lookupItems[b].selected=true;a.$element.find("option").eq(b).prop("selected",true)});a.state.currValue=a.state.selectedIdx;a.setLabel();a.utils.triggerCallback("Change",a)}else{if(a.state.currValue!==a.state.selectedIdx){a.$element.prop("selectedIndex",a.state.currValue=a.state.selectedIdx).data("value",a.lookupItems[a.state.selectedIdx].text);a.setLabel();a.utils.triggerCallback("Change",a)}}},highlight:function(c){var a=this;var b=a.$li.filter("[data-index]").removeClass("highlighted");a.utils.triggerCallback("BeforeHighlight",a);if(c===undefined||c===-1||a.lookupItems[c].disabled){return}b.eq(a.state.highlightedIdx=c).addClass("highlighted");a.detectItemVisibility(c);a.utils.triggerCallback("Highlight",a)},select:function(d){var a=this;var c=a.$li.filter("[data-index]");a.utils.triggerCallback("BeforeSelect",a,d);if(d===undefined||d===-1||a.lookupItems[d].disabled){return}if(a.state.multiple){a.state.selectedIdx=o.isArray(a.state.selectedIdx)?a.state.selectedIdx:[a.state.selectedIdx];var b=o.inArray(d,a.state.selectedIdx);if(b!==-1){a.state.selectedIdx.splice(b,1)}else{a.state.selectedIdx.push(d)}c.removeClass("selected").filter(function(e){return o.inArray(e,a.state.selectedIdx)!==-1}).addClass("selected")}else{c.removeClass("selected").eq(a.state.selectedIdx=d).addClass("selected")}if(!a.state.multiple||!a.options.multiple.keepMenuOpen){a.close()}a.change();a.utils.triggerCallback("Select",a,d)},destroy:function(b){var a=this;if(a.state&&a.state.enabled){a.elements.items.add(a.elements.wrapper).add(a.elements.input).remove();if(!b){a.$element.removeData(m).removeData("value")}a.$element.prop("tabindex",a.originalTabindex).off(j).off(a.eventTriggers).unwrap().unwrap();a.state.enabled=false}}};o.fn[m]=function(a){return this.each(function(){var b=o.data(this,m);if(b&&!b.disableOnMobile){(typeof a==="string"&&b[a])?b[a]():b.init(a)}else{o.data(this,m,new n(this,a))}})};o.fn[m].defaults={onChange:function(a){o(a).change()},maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:false,nativeOnMobile:true,openOnFocus:true,openOnHover:false,hoverIntentTimeout:500,expandToItemText:false,responsive:false,preventWindowScroll:true,inheritOriginalWidth:false,allowWrap:true,forceRenderAbove:false,forceRenderBelow:false,stopPropagation:true,optionsItemBuilder:"{text}",labelBuilder:"{text}",listBuilder:false,keys:{previous:[37,38],next:[39,40],select:[9,13,27],open:[13,32,37,38,39,40],close:[9,27]},customClass:{prefix:m,camelCase:false},multiple:{separator:", ",keepMenuOpen:true,maxLabelEntries:false}}}));